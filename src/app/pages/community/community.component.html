<div class="community-page">
  <!-- Hero Section -->
  <section class="hero">
    <div class="container">
      <h1>Comunidad Meshtastic M√©xico</h1>
      <p class="hero-subtitle">Conectando entusiastas, desarrolladores y usuarios en M√©xico</p>
    </div>
  </section>

  <!-- Community Stats -->
  <section class="stats">
    <div class="container">
      <div class="stats-grid">
        <div class="stat-card">
          <div class="stat-number">291+</div>
          <div class="stat-label">Miembros</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">16</div>
          <div class="stat-label">Ciudades</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">25+</div>
          <div class="stat-label">Proyectos</div>
        </div>
        <div class="stat-card">
          <div class="stat-number">1</div>
          <div class="stat-label">Eventos</div>
        </div>
      </div>
    </div>
  </section>

  <!-- Join Channels -->
  <section class="join-channels">
    <div class="container">
      <h2>√önete a Nuestros Canales</h2>
      <div class="channels-grid">
        <!--
        <div class="channel-card">
          <div class="channel-icon">
            <i class="fab fa-discord"></i>
          </div>
          <h3>Discord</h3>
          <p>Nuestro servidor principal para discusiones t√©cnicas, soporte y colaboraci√≥n en tiempo real.</p>
          <a href="#" class="btn btn-primary">Unirse a Discord</a>
        </div>
        -->
        <div class="channel-card">
          <div class="channel-icon">
            <i class="fab fa-telegram"></i>
          </div>
          <h3>Telegram</h3>
          <p>Grupo para noticias r√°pidas, alertas y comunicaci√≥n informal entre miembros.</p>
          <a href="https://t.me/meshtastic_mexico" class="btn btn-primary">Unirse a Telegram</a>
        </div>
        <div class="channel-card">
          <div class="channel-icon">
            <i class="fab fa-github"></i>
          </div>
          <h3>GitHub</h3>
          <p>Repositorios de proyectos, documentaci√≥n y contribuciones de c√≥digo abierto.</p>
          <a href="https://github.com/mastero101/meshtastic-mx" class="btn btn-primary">Ver en GitHub</a>
        </div>
      <!--
        <div class="channel-card">
          <div class="channel-icon">
            <i class="fab fa-youtube"></i>
          </div>
          <h3>YouTube</h3>
          <p>Tutoriales, presentaciones de proyectos y contenido educativo sobre Meshtastic.</p>
          <a href="#" class="btn btn-primary">Suscribirse</a>
        </div>
        <div class="channel-card">
          <div class="channel-icon">
            <i class="fab fa-facebook"></i>
          </div>
          <h3>Facebook</h3>
          <p>Grupo para noticias r√°pidas, alertas y comunicaci√≥n informal entre miembros.</p>
          <a href="https://www.facebook.com/groups/meshtasticmx" class="btn btn-primary">Unirse a Facebook</a>
        </div>
        <div class="channel-card">
          <div class="channel-icon">
            <i class="fab fa-tiktok"></i>
          </div>
          <h3>TikTok</h3>
          <p>Canal para noticias r√°pidas, alertas y comunicaci√≥n informal entre miembros.</p>
          <a href="https://www.tiktok.com/@meshtastic_mexico" class="btn btn-primary">Suscribirse a TikTok</a>
        </div>
      -->
      </div>
    </div>
  </section>

  <!-- Upcoming Events -->
  <section class="events">
    <div class="container">
      <h2>Pr√≥ximos Eventos</h2>
      <div class="events-grid">
        <div class="event-card" *ngFor="let event of events" (click)="openModal(event)">
          <div class="event-date">
            <span class="day">{{event.date.getDate()}}</span>
            <span class="month">{{getMonthName(event.date)}}</span>
          </div>
          <div class="event-content">
            <h3>{{event.title}}</h3>
            <p class="event-location">üìç {{event.location}}</p>
            <p class="event-description">
              {{event.description}}
            </p>
            <a href="javascript:void(0)" class="event-link">M√°s informaci√≥n ‚Üí</a>
          </div>
        </div>
      </div>

      <!-- Modal -->
      <div class="modal-overlay" [class.active]="showModal" (click)="closeModal()">
        <div class="modal-content" (click)="$event.stopPropagation()">
          <button class="close-button" (click)="closeModal()">&times;</button>
          
          <div class="modal-header" *ngIf="selectedEvent">
            <h2>{{selectedEvent.title}}</h2>
            <div class="event-meta">
              <span class="event-date">
                <i class="fas fa-calendar"></i>
                {{getFormattedDate(selectedEvent.date)}}
              </span>
              <span class="event-location">
                <i class="fas fa-map-marker-alt"></i>
                {{selectedEvent.location}}
              </span>
            </div>
          </div>

          <div class="modal-body" *ngIf="selectedEvent">
            <div class="event-details" *ngIf="!showRegistrationForm && !registrationSuccess">
              <h3>Detalles del Evento</h3>
              <p>{{selectedEvent.details}}</p>
              
              <div class="event-cta">
                <button class="btn btn-primary" (click)="showRegistration()">Registrarse</button>
                <button class="btn btn-secondary" (click)="closeModal()">Cerrar</button>
              </div>
            </div>

            <!-- Registration Form -->
            <div class="registration-form" *ngIf="showRegistrationForm && !registrationSuccess">
              <h3>Registro para {{selectedEvent.title}}</h3>
              
              <form #regForm="ngForm" (ngSubmit)="$event.preventDefault(); onSubmit()">
                <div class="form-group" [class.error]="formErrors.name">
                  <label for="name">Nombre completo *</label>
                  <input 
                    type="text" 
                    id="name" 
                    [(ngModel)]="registrationForm.name" 
                    name="name"
                    placeholder="Tu nombre completo"
                    (blur)="validateForm()">
                  <div class="error-message" *ngIf="formErrors.name">{{formErrors.name}}</div>
                </div>
                
                <div class="form-group" [class.error]="formErrors.email">
                  <label for="email">Correo electr√≥nico *</label>
                  <input 
                    type="email" 
                    id="email" 
                    [(ngModel)]="registrationForm.email" 
                    name="email"
                    placeholder="tu@email.com"
                    (blur)="validateForm()">
                  <div class="error-message" *ngIf="formErrors.email">{{formErrors.email}}</div>
                </div>
                
                <div class="form-group" [class.error]="formErrors.phone">
                  <label for="phone">Tel√©fono *</label>
                  <input 
                    type="tel" 
                    id="phone" 
                    [(ngModel)]="registrationForm.phone" 
                    name="phone"
                    placeholder="55 1234 5678"
                    (blur)="validateForm()">
                  <div class="error-message" *ngIf="formErrors.phone">{{formErrors.phone}}</div>
                </div>
                
                <div class="form-group" [class.error]="formErrors.city">
                  <label for="city">Ciudad *</label>
                  <select 
                    id="city" 
                    [(ngModel)]="registrationForm.city" 
                    name="city"
                    class="form-control"
                    (change)="validateForm()">
                    <option value="">Selecciona tu ciudad</option>
                    <option *ngFor="let city of mexicanCities" [value]="city">{{city}}</option>
                  </select>
                  <div class="error-message" *ngIf="formErrors.city">{{formErrors.city}}</div>
                </div>

                <!-- Additional city field when 'Otra' is selected -->
                <div class="form-group" *ngIf="registrationForm.city === 'Otra'" [class.error]="formErrors.city && !registrationForm.otherCity">
                  <label for="otherCity">Especifica tu ciudad *</label>
                  <input 
                    type="text" 
                    id="otherCity" 
                    [(ngModel)]="registrationForm.otherCity" 
                    name="otherCity"
                    class="form-control"
                    placeholder="Escribe tu ciudad"
                    (blur)="validateForm()">
                </div>

                <!-- Meshtastic Plate Field -->
                <div class="form-group" [class.error]="formErrors.meshPlate">
                  <label for="meshPlate">Placa Meshtastic Favorita *</label>
                  <input 
                    type="text" 
                    id="meshPlate" 
                    [(ngModel)]="registrationForm.meshPlate" 
                    name="meshPlate"
                    class="form-control"
                    placeholder="Ej: MX-1234, MESHTASTIC_1234 o el nombre de tu dispositivo"
                    (blur)="validateForm()">
                  <div class="error-message" *ngIf="formErrors.meshPlate">{{formErrors.meshPlate}}</div>
                  <small class="form-text text-muted">Ingresa cualquier identificador que uses para tu dispositivo Meshtastic</small>
                </div>
                
                <div class="form-group">
                  <label for="comments">Comentarios o preguntas</label>
                  <textarea 
                    id="comments" 
                    [(ngModel)]="registrationForm.comments" 
                    name="comments"
                    rows="3"
                    placeholder="¬øTienes alguna pregunta o comentario adicional?"></textarea>
                </div>
                
                <div class="form-actions">
                  <button type="button" class="btn btn-secondary" (click)="showRegistrationForm = false">Atr√°s</button>
                  <button type="submit" class="btn btn-primary" [disabled]="!regForm.valid">Enviar registro</button>
                </div>
              </form>
            </div>
            
            <!-- Success Message -->
            <div class="success-message" *ngIf="registrationSuccess">
              <div class="success-icon">
                <i class="fas fa-check-circle"></i>
              </div>
              <h3>¬°Registro exitoso!</h3>
              <p>Gracias por registrarte al evento. Te hemos enviado un correo de confirmaci√≥n con los detalles.</p>
              <button class="btn btn-primary" (click)="closeModal()">Cerrar</button>
            </div>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Local Groups -->
  <section class="local-groups">
    <div class="container">
      <h2>Grupos Locales</h2>
      <div class="groups-grid">
        <div class="group-card">
          <h3>CDMX</h3>
          <p>Grupo principal en la Ciudad de M√©xico con m√°s de 50 miembros activos.</p>
          <div class="group-stats">
            <span>50+ miembros</span>
            <span>5 proyectos activos</span>
          </div>
          <a href="#" class="group-link">Contactar grupo</a>
        </div>
        <div class="group-card">
          <h3>Monterrey</h3>
          <p>Comunidad en crecimiento en Nuevo Le√≥n </p>
          <div class="group-stats">
            <span>30+ miembros</span>
            <span>3 proyectos activos</span>
          </div>
          <a href="#" class="group-link">Contactar grupo</a>
        </div>
        <div class="group-card">
          <h3>Mexicali</h3>
          <p>Grupo en Mexicali especializado en despliegue masivo de nodos</p>
          <div class="group-stats">
            <span>25+ miembros</span>
            <span>4 proyectos activos</span>
          </div>
          <a href="#" class="group-link">Contactar grupo</a>
        </div>
        <div class="group-card">
          <h3>Pen√≠nsula de Yucat√°n</h3>
          <p>Comunidad en crecimiento que abarca Yucat√°n, Campeche y Quintana Roo. Enfocada en conectar estas ciudades</p>
          <div class="group-stats">
            <span>15+ miembros</span>
            <span>2 proyectos activos</span>
          </div>
          <a href="#" class="group-link">Contactar grupo</a>
        </div>
      </div>
    </div>
  </section>

  <!-- Resources -->
  <section class="resources">
    <div class="container">
      <h2>Recursos de la Comunidad</h2>
      <div class="resources-grid">
        <div class="resource-card">
          <h3>Documentaci√≥n en Espa√±ol</h3>
          <p>Gu√≠as, tutoriales y documentaci√≥n t√©cnica traducida al espa√±ol.</p>
          <a href="#" class="resource-link">Acceder ‚Üí</a>
        </div>
        <div class="resource-card">
          <h3>Biblioteca de Proyectos</h3>
          <p>Colecci√≥n de proyectos desarrollados por la comunidad mexicana.</p>
          <a href="#" class="resource-link">Explorar ‚Üí</a>
        </div>
        <div class="resource-card">
          <h3>Foro de Discusi√≥n</h3>
          <p>Espacio para preguntas, discusiones t√©cnicas y colaboraci√≥n.</p>
          <a href="#" class="resource-link">Participar ‚Üí</a>
        </div>
        <div class="resource-card">
          <h3>Newsletter</h3>
          <p>Bolet√≠n mensual con noticias, eventos y actualizaciones de la comunidad.</p>
          <a href="#" class="resource-link">Suscribirse ‚Üí</a>
        </div>
      </div>
    </div>
  </section>
</div>
